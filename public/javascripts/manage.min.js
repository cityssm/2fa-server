"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(){var e=document.getElementById("button--enable");e&&e.addEventListener("click",function(){cityssm.confirmModal("Enable Two-Factor Authentication?","As part of the process, you will be shown a secret key generated just for you.The key will only be shown to you for a limited time, so be sure to have your mobile device nearby to record it.","Enable 2FA Now","info",function(){cityssm.postJSON("/manage/doEnable",{},function(e){e.success?window.location.reload():cityssm.alertModal("Error","An error occurred while attempting to enable two-factor authentication on this account.  Please try again.","OK","danger")})})});var t=document.getElementById("button--reset");t&&t.addEventListener("click",function(){cityssm.confirmModal("Reset Secret Key?","Once your key has been reset, it will be shown on screen for you to record on your mobile device.It will not be available to you afterwards, so be sure to have your mobile device nearby to record it.","Reset Secret Key","info",function(){cityssm.postJSON("/manage/doReset",{},function(e){if(e.success){t.closest(".message").remove(),document.getElementById("container--secretKey").innerHTML=(e.qrCode?'<img src="'+e.qrCode+'" alt="'+e.secretKey+'" /><br />':"")+'<span class="is-size-4 has-text-weight-bold">'+e.secretKey+"</span>";var o=document.getElementById("container--secretKeyInfo");o.classList.remove("is-hidden"),o.scrollIntoView({behavior:"smooth",block:"start"})}else cityssm.alertModal("Error","An error occurred while attempting to reset the secret key on this account.  Please try again.","OK","danger")})})})}();